<div class="row" data-controller="channel" data-channel-id="<%= @channel.id %>">

  <div class="col-sm-10 relative">
    <div class="d-flex justify-content-between sticky-top bg-white border-bottom pt-2">
      <h1 style = "text-align:left;"><%= @channel.name %></h1>
    </div>

    <div class= "jumbotron emp-profile" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);">
      <div data-target="channel.messages">
        <%= render @channel.messages %>
      </div>
  </div>

  <div class="fixed-bottom row">
    <div class="col-sm-10 offset-sm-2 p-2 bg-white">
      <% if current_user.channels.include?(@channel) %>
        <%= form_with model: [@channel, Message.new], data: { action: "ajax:success->channel#clearMessage" } do |form| %>
          <%= form.text_field :body, placeholder: "Message ##{@channel.name}", class: "form-control", data: { target: "channel.newMessage" } %>
        <% end %>

      <% else %>
      <% end %>
    </div>
  </div>
  <br>
  </div>
</div>
