<!DOCTYPE html>
<html>
<head>
    <title>Mentorship App</title>
    <meta charset="utf-8">
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
    <%= render 'layouts/header' %>
    <h1>Explore</h1>
    <div class= "center jumbotron" style="background:white" >
    <% if @user.mentee? %>
        <% users = @mentors%>
        <% role = "mentor"%>
    <% elsif @user.mentor? %>
        <% users = @mentees %>
        <% role = "mentee"%>
    <% end %>

    <div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="false" >
            <!-- Indicators -->
        <ol class="carousel-indicators">
            <% users.each_with_index do |possible_match, i| %>
            <li data-target="#mycarousel" data-slide-to=#{i) class="#{'active' if i == 0}"></li>
            <% end %>
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">
            <% users.each_with_index do |possible_match, i| %>
            <% possible_user = User.find(possible_match.user_id) %>
                <div class="item <%= "active " if i==0 %>">
                <% puts possible_match%>
                    <% if possible_match.avatar.attached? %>
                        <img class="d-block w-100" src="<%=(url_for(possible_match.avatar))%>" width="220" height="200">
                    <% else %>
                        <img class="d-block w-100" src="https://www.pngitem.com/pimgs/m/30-307416_profile-icon-png-image-free-download-searchpng-employee.png" width="220" height="200"/>
                    <% end %>
                    <div>
                    <p><%= "Name: " + possible_user.firstname + " " + possible_user.lastname %></p>
                    <p><%= "Email: " + possible_user.email %></p>
                    <% if role == "mentor" %>
                        <p><%= "Area of Expertise: " + possible_match.area_of_expertise %></p>
                        <p><%= "University: " + possible_match.school %></p>
                        <p><%= "Location: " + possible_match.location %></p>
                        <p><%= "Current position: " + possible_match.current_position %></p>
                        <p><%= "Preferred length of mentorship: " + possible_match.length_of_mentorship.to_s %></p>
                        <p><%= "Preferred method of contact: " + possible_match.preferred_method_of_contact %></p>
                    <% else %>
                        <p><%= "Major: " + possible_match.major %></p>
                        <p><%= "Area of Interest: " + possible_match.area_of_interest %></p>
                        <p><%= "Location: " + possible_match.location %></p>
                        <p><%= "Graduation Year: " + possible_match.graduation_year %></p>
                        <p><%= "Preferred length of mentorship: " + possible_match.length_of_mentorship.to_s %></p>
                        <p><%= "Preferred method of contact: " + possible_match.preferred_method_of_contact %></p>
                    <% end %>

                    
                    </div>
                </div>
            <% end %>
        </div>
        <a class="left carousel-control" href="#myCarousel" data-slide="prev">
            <span class="icon-prev"></span>
        </a>
        <a class="right carousel-control" href="#myCarousel" data-slide="next">
            <span class="icon-next"></span>
        </a>
    </div>
    </div>

</body>
</html> 